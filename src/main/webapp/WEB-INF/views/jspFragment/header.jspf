<%@page import="com.yura.yoj.status.MemberStatus.LoginStatus"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- ì¼ë‹¨ì€ ì—¬ê¸°ë‹¤ê°€ ë³€ìˆ˜ ëª¨ì•„ë‘ì........ ì‰.. ë‚˜ì¤‘ì— xmlì— ë„£ë˜ì§€ ë³€ìˆ˜ ë§ì•„ì§€ë©´ ë³€ìˆ˜ìš© jspí•˜ë‚˜ ì¶”ê°€í•˜ë˜ì§€ -->
<!-- rootpath, css, js ê²½ë¡œìš© -->
<c:set var='rootPath' value="${pageContext.servletContext.contextPath}"/>
<c:set var='css' value="${rootPath}/resources/css"/>
<c:set var='js' value="${rootPath}/resources/js"/>
<c:set var='sources' value="${rootPath}/resources/sources"/>
<%System.out.println("rootPath : " + pageContext.getAttribute("rootPath")); %>

<!-- LoginStatus -->
<c:set var="GUEST" value="<%=LoginStatus.GUEST %>"/>
<c:set var="MEMBER" value="<%=LoginStatus.GUEST %>"/>
<c:set var="MANAGER" value="<%=LoginStatus.GUEST %>"/>

 <!-- /ì»¨í…ìŠ¤íŠ¸ëª… ê¹Œì§€ ë‹¤ ì¨ì¤˜ì•¼ ì ìš©ì´ ëœë‹¤ => hrefë¥¼ ì ˆëŒ€ê²½ë¡œë¡œ ì‚¬ìš©í•˜ë©´ ì§„ì§œ ìŒ© í¬íŠ¸ë²ˆí˜¸ ë’¤ë¶€í„° ì‹œì‘í•œë‹¤
 ê·¼ë° ëª¨ë“  ìš”ì²­ì—ëŠ” ì»¨í…ìŠ¤íŠ¸ëª…ì´ í¬í•¨ë¼ì•¼ë¼...... -->
<link rel="stylesheet" type="text/css" href="${css}/common/header.css">
<link rel="stylesheet" type="text/css" href="${css}/common/common.css">
<link rel="icon" href="${sources}/tabIcon.png">
 </head>
<body>
	<header id="mainHeader">
		<a id="mainLogo" href="${rootPath}/main.do"> 
			<img src="${sources}/logo.png" width="230"> 			
		</a>
 		<div id="userMenu">
		<!-- ìœ ì € ë©”ë‰´. ì‚¬ìš©ìë§ˆë‹¤ ë‹¤ë¥¸ ë©”ë‰´ ì¶œë ¥ -->
<%-- 		<c:set var="loginStatus" value="${session.loginStatus}"/>
		<c:set var="loginId" value="${session.loginId}"/>
		<c:if test="${loginStatus eq null}">
		<c:set var="loginStatus" value="<%=LoginStatus.GUEST %>"/>
		</c:if>
		<c:choose>
		<c:when test="${loginStatus eq ${MEMBER}">
		</c:when>
		<c:when test="${loginStatus eq ${GUEST}">
		</c:when>
		</c:choose> --%>
			<%
			LoginStatus loginStatus = (LoginStatus) session.getAttribute("loginStatus");//ìš”ì²­ìœ¼ë¡œë¶€í„° ì†ì„±ì„ ë°›ì•„ì˜¤ëŠ”ë° ì—†ë‹¤....
			String loginId = (String) session.getAttribute("loginId");
				//out.println("ë¡œê·¸ì¸ ìƒíƒœ" + loginStatus);
				if (loginStatus == null)
					loginStatus = LoginStatus.GUEST;
				switch (loginStatus) {
				case MEMBER:
					out.print("<a href='/PJ_spring/status.do'>" + loginId + "</a>" + "<p>|</p>"
							+ "<a href='/PJ_spring/coinMain.do'>" + "ì½”ì¸" + "</a>" + "<p>|</p>"
							+ "<a href='/PJ_spring/setting.do'>" + "ì„¤ì •" + "</a>" + "<p>|</p>"
							+ "<a href='/PJ_spring/logout.do'>ë¡œê·¸ì•„ì›ƒ</a>" + "<p>|</p>"
							+ "<a href='/PJ_spring/coinMain.do'>" + "ğŸŒ" + "</a>" + "<p>|</p>"
							+ "<a href='/PJ_spring/coinMain.do'>" + "â­" + "</a>");
					break;
				case GUEST:
					out.print("<a href='/PJ_spring/join.do'>íšŒì›ê°€ì…</a>" + "<p>|</p>"
							+ "<a href='/PJ_spring/login.do'>ë¡œê·¸ì¸</a>");
					break;
				}
			%>
		</div>
		<br> <br>
		<!-- ë©”ì¸ ë©”ë‰´ -->
		<a class="menuLogo" id="menuLogo" href='#'><img
			src="${sources}/hambergerBtn.png" width="45px" class="ham"></a>
		<nav id='mainMenu'>
			<a class="menu" href='${rootPath}/question.do'>ë¬¸ì œ</a> 
			<a class="menu" href='${rootPath}/status.do'>ì±„ì  í˜„í™©</a>
			<a class="menu" href='${rootPath}/ranklist.do'>ë­í‚¹</a> 
			<a class="menu" href='${rootPath}/board.do'>ê²Œì‹œíŒ</a>
			<a class="menu" href='${rootPath}/search.do'><img src="${sources }/search.png" width="20px"></a>
		</nav>
	</header>

	<script src="${js}/common/header.js"></script>
	<script src="${js}/common/jquery.js"></script>
</body>
</html>